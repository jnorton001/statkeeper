{% extends "match/base.html" %}

{% block title %}Ping Pong{% endblock %}

{% block main_content %}

<div class="history">
	<div>{{ who.username }} versus {{ opponent.username }} history:</div>
	<table>
	{% for match in matches %}
		<tr>
		{% ifequal who match.winner %}
			<td>{{ match.winner.username }}</td>
			<td><span class="beat">beat</span></td>
			<td>{{ match.loser.username }}</td>
		{% else %}
			<td>{{ match.loser.username }}</td>
			<td><span class="lost">lost to</span></td>
			<td>{{ match.winner.username }}</td>
		{% endifequal %}
		<td>{% if match.results %}({{ match.results }}){% endif %}</td>
		<td>on {{ match.timestamp }}</td>
		</tr>
	{% empty %}
		<tr><td>Nothing yet.</td></tr>
	{% endfor %}
	</table>
</div>

{% endblock %}
